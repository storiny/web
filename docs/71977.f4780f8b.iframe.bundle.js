"use strict";(self.webpackChunk_storiny_monorepo=self.webpackChunk_storiny_monorepo||[]).push([[71977],{"./apps/web/src/common/comment/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{vz:()=>list_skeleton,K0:()=>list_item,X4:()=>list,H_:()=>scroll_seek_placeholder});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),dist=__webpack_require__("./node_modules/react-virtuoso/dist/index.mjs"),main_module=__webpack_require__("./packages/ui/src/theme/main.module.scss"),footer=__webpack_require__("./apps/web/src/common/virtual/footer/index.ts");const VirtualizedCommentListContext=react.createContext({comment_props:{},skeleton_props:{}}),VirtualizedCommentList=react.memo((({comments,has_more,load_more,comment_props={},skeleton_props={},className,...rest})=>(0,jsx_runtime.jsx)(VirtualizedCommentListContext.Provider,{value:{comment_props,skeleton_props},children:(0,jsx_runtime.jsx)(dist.aY,{increaseViewportBy:750,scrollSeekConfiguration:{enter:velocity=>Math.abs(velocity)>950,exit:velocity=>Math.abs(velocity)<10},useWindowScroll:!0,...rest,className:(0,clsx_m.$)(main_module.A["full-w"],main_module.A["full-h"],className),components:{Item:list_item,ScrollSeekPlaceholder:scroll_seek_placeholder,...has_more&&{Footer:footer.A}},data:comments,endReached:has_more?load_more:()=>{}})})));VirtualizedCommentList.displayName="VirtualizedCommentList";const list=VirtualizedCommentList;VirtualizedCommentList.__docgenInfo={description:"",methods:[],displayName:"VirtualizedCommentList",props:{comment_props:{required:!1,tsType:{name:"Partial",elements:[{name:"CommentProps"}],raw:"Partial<CommentProps>"},description:"Props passed down to individual comment entities.",defaultValue:{value:"{}",computed:!1}},comments:{required:!0,tsType:{name:"Array",elements:[{name:"intersection",raw:"{\n  content: string;\n  created_at: string;\n  edited_at: string | null;\n  hidden: boolean;\n  id: string;\n  rendered_content: string;\n  story_id: string;\n  user_id: string;\n} & CommentStats &\n  CommentOptionalProps &\n  UserSpecificCommentProps",elements:[{name:"signature",type:"object",raw:"{\n  content: string;\n  created_at: string;\n  edited_at: string | null;\n  hidden: boolean;\n  id: string;\n  rendered_content: string;\n  story_id: string;\n  user_id: string;\n}",signature:{properties:[{key:"content",value:{name:"string",required:!0}},{key:"created_at",value:{name:"string",required:!0}},{key:"edited_at",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"hidden",value:{name:"boolean",required:!0}},{key:"id",value:{name:"string",required:!0}},{key:"rendered_content",value:{name:"string",required:!0}},{key:"story_id",value:{name:"string",required:!0}},{key:"user_id",value:{name:"string",required:!0}}]}},{name:"CommentStats"},{name:"CommentOptionalProps"},{name:"UserSpecificCommentProps"}]}],raw:"Comment[]"},description:"Array of comments to render."},has_more:{required:!0,tsType:{name:"boolean"},description:"Flag indicating whether there are more comments to render."},load_more:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"A callback function to fetch more comments."},skeleton_props:{required:!1,tsType:{name:"Partial",elements:[{name:"CommentSkeletonProps"}],raw:"Partial<CommentSkeletonProps>"},description:"Props passed down to individual comment skeleton entities.",defaultValue:{value:"{}",computed:!1}}},composes:["VirtuosoProps"]};var divider=__webpack_require__("./packages/ui/src/components/divider/divider.tsx"),comment=__webpack_require__("./packages/ui/src/entities/comment/comment.tsx"),virtual_module=__webpack_require__("./apps/web/src/common/virtual/virtual.module.scss");const VirtualizedCommentItem=react.memo((({item,...rest})=>{const{comment_props}=react.useContext(VirtualizedCommentListContext);return(0,jsx_runtime.jsxs)("div",{...rest,className:(0,clsx_m.$)(main_module.A["flex-col"],virtual_module.A["list-item"]),children:[(0,jsx_runtime.jsx)(comment.A,{...comment_props,comment:item,virtual:!0}),(0,jsx_runtime.jsx)(divider.A,{style:{marginInline:"var(--grid-compensation)"}})]})}));VirtualizedCommentItem.displayName="VirtualizedCommentItem";const list_item=VirtualizedCommentItem;VirtualizedCommentItem.__docgenInfo={description:"",methods:[],displayName:"VirtualizedCommentItem"};var skeleton=__webpack_require__("./packages/ui/src/entities/comment/skeleton/skeleton.tsx");const CommentListSkeleton=react.memo((props=>(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.$)(main_module.A["flex-col"],virtual_module.A.list),children:[...Array(5)].map(((_,index)=>(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(skeleton.A,{...props,virtual:!0}),(0,jsx_runtime.jsx)(divider.A,{className:main_module.A["hide-last"],style:{marginInline:"var(--grid-compensation)"}})]},index)))})));CommentListSkeleton.displayName="CommentListSkeleton";const list_skeleton=CommentListSkeleton;CommentListSkeleton.__docgenInfo={description:"",methods:[],displayName:"CommentListSkeleton"};const VirtualizedCommentScrollSeekPlaceholder=react.memo((()=>{const{skeleton_props}=react.useContext(VirtualizedCommentListContext);return(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.$)(main_module.A["flex-col"],virtual_module.A["list-item"]),children:[(0,jsx_runtime.jsx)(skeleton.A,{...skeleton_props,virtual:!0}),(0,jsx_runtime.jsx)(divider.A,{style:{marginInline:"var(--grid-compensation)"}})]})}));VirtualizedCommentScrollSeekPlaceholder.displayName="VirtualizedCommentScrollSeekPlaceholder";const scroll_seek_placeholder=VirtualizedCommentScrollSeekPlaceholder;VirtualizedCommentScrollSeekPlaceholder.__docgenInfo={description:"",methods:[],displayName:"VirtualizedCommentScrollSeekPlaceholder"}},"./apps/web/src/common/virtual/footer/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>footer});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),spacer=__webpack_require__("./packages/ui/src/components/spacer/spacer.tsx"),spinner=__webpack_require__("./packages/ui/src/components/spinner/spinner.tsx"),main_module=__webpack_require__("./packages/ui/src/theme/main.module.scss");const VirtualFooter=react.memo((()=>(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.$)(main_module.A["full-w"],main_module.A["flex-col"],main_module.A["flex-center"]),children:[(0,jsx_runtime.jsx)(spacer.A,{orientation:"vertical",size:4}),(0,jsx_runtime.jsx)(spinner.A,{"aria-label":"Loading moreâ€¦"}),(0,jsx_runtime.jsx)(spacer.A,{orientation:"vertical",size:6})]})));VirtualFooter.displayName="VirtualFooter";const footer=VirtualFooter;VirtualFooter.__docgenInfo={description:"",methods:[],displayName:"VirtualFooter"}},"./packages/editor/src/components/auxiliary-content/comment-list/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>comment_list});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),react=__webpack_require__("./node_modules/jotai/esm/react.mjs"),compiled_react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),comment=__webpack_require__("./apps/web/src/common/comment/index.ts"),divider=__webpack_require__("./packages/ui/src/components/divider/divider.tsx"),error_state=__webpack_require__("./packages/ui/src/entities/error-state/error-state.tsx"),use_default_fetch=__webpack_require__("./packages/ui/src/hooks/use-default-fetch/index.ts"),use_pagination=__webpack_require__("./packages/ui/src/hooks/use-pagination/index.ts"),comments=__webpack_require__("./packages/ui/src/redux/features/api/endpoints/public/stories/comments/index.ts"),get_query_error_type=__webpack_require__("./packages/ui/src/redux/features/api/utils/get-query-error-type/index.ts"),story_metadata=__webpack_require__("./packages/editor/src/atoms/story-metadata/index.ts"),auxiliary_content_module=__webpack_require__("./packages/editor/src/components/auxiliary-content/auxiliary-content.module.scss"),constants_comment=__webpack_require__("./packages/shared/src/constants/comment/index.ts"),avatar=__webpack_require__("./packages/ui/src/components/avatar/avatar.tsx"),button_button=__webpack_require__("./packages/ui/src/components/button/button.tsx"),use_toast=__webpack_require__("./packages/ui/src/components/toast/use-toast/use-toast.tsx"),response_textarea=__webpack_require__("./packages/ui/src/entities/response-textarea/response-textarea.tsx"),selectors=__webpack_require__("./packages/ui/src/redux/features/auth/selectors.ts"),content_type=__webpack_require__("./packages/shared/src/enums/content-type/index.ts"),number=__webpack_require__("./packages/ui/src/redux/features/entities/actions/number/index.ts"),actions_self=__webpack_require__("./packages/ui/src/redux/features/entities/actions/self/index.ts"),slice=__webpack_require__("./packages/ui/src/redux/features/api/slice.ts");const{useAddCommentMutation:use_add_comment_mutation}=slice.Qo.injectEndpoints({endpoints:builder=>({addComment:builder.mutation({query:body=>({url:"/me/comments",method:"POST",body,headers:{"Content-type":content_type.c.JSON}}),invalidatesTags:["Comment"],onQueryStarted:async(arg,{dispatch,queryFulfilled})=>{queryFulfilled.then((()=>{[(0,number.x)("story_comment_counts",arg.story_id,"increment"),(0,actions_self.c)("self_comment_count","increment")].forEach(dispatch)}))}})})});var hooks=__webpack_require__("./packages/ui/src/redux/hooks/index.ts"),main_module=__webpack_require__("./packages/ui/src/theme/main.module.scss"),handle_api_error=__webpack_require__("./packages/ui/src/utils/handle-api-error/handle-api-error.ts"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),post_comment_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[14].use[3]!./packages/editor/src/components/auxiliary-content/post-comment/post-comment.module.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(post_comment_module.A,options);const post_comment_post_comment_module=post_comment_module.A&&post_comment_module.A.locals?post_comment_module.A.locals:void 0,PostComment=({on_post})=>{const toast=(0,use_toast.w)(),dispatch=(0,hooks.f)(),story=(0,react.md)(story_metadata._),user=(0,hooks.m)(selectors.n1),logged_in=(0,hooks.m)(selectors.xq),textarea_ref=compiled_react.useRef(null),[add_comment,{isLoading:is_loading}]=use_add_comment_mutation();return(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.$)(main_module.A.flex,post_comment_post_comment_module["response-area"],!logged_in&&post_comment_post_comment_module["logged-out"]),children:logged_in?(0,jsx_runtime.jsxs)(compiled_react.Fragment,{children:[(0,jsx_runtime.jsx)(avatar.A,{alt:"",avatar_id:null==user?void 0:user.avatar_id,hex:null==user?void 0:user.avatar_hex,label:null==user?void 0:user.name}),(0,jsx_runtime.jsx)(response_textarea.A,{maxLength:constants_comment.N.content.max_length,minLength:constants_comment.N.content.min_length,placeholder:"Leave a comment",post_button_props:{loading:is_loading,onClick:()=>{var _textarea_ref_current;(null===(_textarea_ref_current=textarea_ref.current)||void 0===_textarea_ref_current?void 0:_textarea_ref_current.value)?add_comment({story_id:story.id,content:textarea_ref.current.value}).unwrap().then((()=>{textarea_ref.current&&(textarea_ref.current.value=""),on_post(),toast("Comment added","success"),dispatch(comments.JR.util.resetApiState())})).catch((error=>(0,handle_api_error.n)(error,toast,null,"Could not add your comment"))):toast("Comment content cannot be empty","error")}},ref:textarea_ref,slot_props:{container:{className:(0,clsx_m.$)(main_module.A["f-grow"],post_comment_post_comment_module.x,post_comment_post_comment_module["response-textarea"])}}})]}):(0,jsx_runtime.jsx)(button_button.A,{check_auth:!0,variant:"hollow",children:"Log in to leave a comment"})})},post_comment=PostComment;PostComment.__docgenInfo={description:"",methods:[],displayName:"PostComment",props:{on_post:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var custom_state=__webpack_require__("./packages/ui/src/entities/custom-state/custom-state.tsx");const EditorAuxiliaryContentCommentListEmptyState=()=>(0,jsx_runtime.jsx)(custom_state.A,{auto_size:!0,description:"Be the first one to comment on this story.",style:{marginBlock:"24px"},title:"No comments yet"}),empty_state=EditorAuxiliaryContentCommentListEmptyState;EditorAuxiliaryContentCommentListEmptyState.__docgenInfo={description:"",methods:[],displayName:"EditorAuxiliaryContentCommentListEmptyState"};const EditorAuxiliaryContentCommentList=props=>{const{sort,set_sort}=props,story=(0,react.md)(story_metadata._),page=(0,use_pagination.h)((0,comments.eT)({story_id:story.id,page:1,sort,type:"all"})),[trigger,{data:{items=[],has_more}={},isLoading:is_loading,isFetching:is_fetching,isError:is_error,error}]=(0,comments.z_)(),refetch=(0,use_default_fetch.J)(trigger,{story_id:story.id,page,sort,type:"all"},[story.id,sort]),load_more=compiled_react.useCallback((()=>{trigger({story_id:story.id,page:page+1,sort,type:"all"},!0)}),[page,sort,story.id,trigger]);return(0,jsx_runtime.jsxs)(compiled_react.Fragment,{children:[(0,jsx_runtime.jsx)(post_comment,{on_post:()=>set_sort("recent")}),(0,jsx_runtime.jsx)(divider.A,{className:(0,clsx_m.$)(auxiliary_content_module.A.x,auxiliary_content_module.A["full-width-divider"])}),is_loading||is_fetching&&1===page?(0,jsx_runtime.jsx)(comment.vz,{}):is_error?(0,jsx_runtime.jsx)(error_state.A,{auto_size:!0,component_props:{button:{loading:is_fetching}},retry:refetch,type:(0,get_query_error_type.w)(error)}):is_fetching||items.length?(0,jsx_runtime.jsx)(comment.X4,{comments:items,has_more:Boolean(has_more),load_more,scrollSeekConfiguration:void 0}):(0,jsx_runtime.jsx)(empty_state,{})]})},comment_list=EditorAuxiliaryContentCommentList;EditorAuxiliaryContentCommentList.__docgenInfo={description:"",methods:[],displayName:"EditorAuxiliaryContentCommentList",props:{set_sort:{required:!0,tsType:{name:"signature",type:"function",raw:"(next_sort: StoryCommentsSortValue) => void",signature:{arguments:[{type:{name:"union",raw:'"most-liked" | "recent"',elements:[{name:"literal",value:'"most-liked"'},{name:"literal",value:'"recent"'}]},name:"next_sort"}],return:{name:"void"}}},description:""},sort:{required:!0,tsType:{name:"union",raw:'"most-liked" | "recent"',elements:[{name:"literal",value:'"most-liked"'},{name:"literal",value:'"recent"'}]},description:""}}}},"./packages/ui/src/entities/comment/skeleton/skeleton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),clsx__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_components_aspect_ratio__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/ui/src/components/aspect-ratio/aspect-ratio.tsx"),_components_grow__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/ui/src/components/grow/grow.tsx"),_components_no_ssr__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/ui/src/components/no-ssr/no-ssr.tsx"),_components_skeleton__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/ui/src/components/skeleton/skeleton.tsx"),_hooks_use_media_query__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/ui/src/hooks/use-media-query/index.ts"),_theme_breakpoints__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/ui/src/theme/breakpoints.ts"),_theme_main_module_scss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/ui/src/theme/main.module.scss"),_comment_module_scss__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/ui/src/entities/comment/comment.module.scss");const CommentSkeleton=props=>{const{is_extended,virtual}=props,is_mobile=(0,_hooks_use_media_query__WEBPACK_IMPORTED_MODULE_4__.A)(_theme_breakpoints__WEBPACK_IMPORTED_MODULE_5__.L.down("mobile"));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_no_ssr__WEBPACK_IMPORTED_MODULE_6__.A,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{"aria-busy":"true",className:(0,clsx__WEBPACK_IMPORTED_MODULE_7__.A)(_theme_main_module_scss__WEBPACK_IMPORTED_MODULE_2__.A["flex-col"],_comment_module_scss__WEBPACK_IMPORTED_MODULE_3__.A.comment,virtual&&_comment_module_scss__WEBPACK_IMPORTED_MODULE_3__.A.virtual),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_7__.A)(_theme_main_module_scss__WEBPACK_IMPORTED_MODULE_2__.A.flex,_comment_module_scss__WEBPACK_IMPORTED_MODULE_3__.A["story-persona"]),style:{alignItems:"center"},children:[is_extended?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_aspect_ratio__WEBPACK_IMPORTED_MODULE_8__.A,{className:_comment_module_scss__WEBPACK_IMPORTED_MODULE_3__.A["story-splash"],ratio:1.77,tabIndex:-1,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_skeleton__WEBPACK_IMPORTED_MODULE_9__.A,{no_radius:!0})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_skeleton__WEBPACK_IMPORTED_MODULE_9__.A,{height:32,shape:"circular",width:32}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_skeleton__WEBPACK_IMPORTED_MODULE_9__.A,{height:18,width:114})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:_theme_main_module_scss__WEBPACK_IMPORTED_MODULE_2__.A["flex-col"],style:{gap:"6px"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_skeleton__WEBPACK_IMPORTED_MODULE_9__.A,{height:10,width:236}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_skeleton__WEBPACK_IMPORTED_MODULE_9__.A,{height:10,width:140}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_skeleton__WEBPACK_IMPORTED_MODULE_9__.A,{height:10,width:200})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:_theme_main_module_scss__WEBPACK_IMPORTED_MODULE_2__.A["flex-center"],children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_skeleton__WEBPACK_IMPORTED_MODULE_9__.A,{height:is_mobile||is_extended?18:14,width:is_mobile||is_extended?52:48}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_grow__WEBPACK_IMPORTED_MODULE_10__.A,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_skeleton__WEBPACK_IMPORTED_MODULE_9__.A,{height:is_mobile||is_extended?18:14,width:60})]})]})})},__WEBPACK_DEFAULT_EXPORT__=react__WEBPACK_IMPORTED_MODULE_1__.memo(CommentSkeleton);CommentSkeleton.__docgenInfo={description:"",methods:[],displayName:"CommentSkeleton",props:{is_extended:{required:!1,tsType:{name:"boolean"},description:"If `true`, renders with extended properties"},virtual:{required:!1,tsType:{name:"boolean"},description:"Whether the skeleton is rendered inside a virtualized list."}}}},"./packages/ui/src/entities/custom-state/custom-state.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>custom_state});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),typography=__webpack_require__("./packages/ui/src/components/typography/typography.tsx"),use_media_query=__webpack_require__("./packages/ui/src/hooks/use-media-query/index.ts"),breakpoints=__webpack_require__("./packages/ui/src/theme/breakpoints.ts"),main_module=__webpack_require__("./packages/ui/src/theme/main.module.scss"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),custom_state_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[14].use[3]!./packages/ui/src/entities/custom-state/custom-state.module.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(custom_state_module.A,options);const custom_state_custom_state_module=custom_state_module.A&&custom_state_module.A.locals?custom_state_module.A.locals:void 0,CustomState=react.forwardRef(((props,ref)=>{const{className,size:size_prop="md",auto_size,title,description,icon,...rest}=props,is_mobile=(0,use_media_query.A)(breakpoints.L.down("mobile")),size=auto_size?is_mobile?"sm":"md":size_prop;return(0,jsx_runtime.jsxs)("div",{...rest,className:(0,clsx_m.A)(main_module.A["flex-col"],custom_state_custom_state_module["custom-state"],custom_state_custom_state_module[size],className),ref,children:[icon&&(0,jsx_runtime.jsx)("span",{className:(0,clsx_m.A)(main_module.A["flex-center"],custom_state_custom_state_module.icon),children:icon}),(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.A)(main_module.A["flex-col"],main_module.A["t-center"],custom_state_custom_state_module.content),children:[(0,jsx_runtime.jsx)(typography.A,{className:custom_state_custom_state_module.title,color:"major",weight:"bold",children:title}),description&&(0,jsx_runtime.jsx)(typography.A,{color:"minor",level:"body2",children:description})]})]})}));CustomState.displayName="CustomState";const custom_state=CustomState;CustomState.__docgenInfo={description:"",methods:[],displayName:"CustomState",props:{auto_size:{required:!1,tsType:{name:"boolean"},description:"Automatically resize the entity based on viewport width.\n@default false"},description:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"The description of the state."},icon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"The element placed above the children."},size:{required:!1,tsType:{name:"union",raw:'"md" | "sm"',elements:[{name:"literal",value:'"md"'},{name:"literal",value:'"sm"'}]},description:"The size of the entity.\n@default 'md'"},title:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"The title of the state."}},composes:["Omit"]}},"./packages/ui/src/hooks/use-default-fetch/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>use_default_fetch});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const use_default_fetch=(trigger,args,fetch_deps=[],prefer_cache_value=!0)=>{const default_fetch=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((()=>{trigger(args,prefer_cache_value)}),[args,prefer_cache_value,trigger]);return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(default_fetch,fetch_deps),default_fetch}},"./packages/ui/src/hooks/use-pagination/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{h:()=>use_pagination});var _redux_hooks__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/ui/src/redux/hooks/index.ts");const use_pagination=select=>{var _cache_data;const cache=(0,_redux_hooks__WEBPACK_IMPORTED_MODULE_0__.m)((state=>select(state)));var _cache_data_page;return null!==(_cache_data_page=null==cache||null===(_cache_data=cache.data)||void 0===_cache_data?void 0:_cache_data.page)&&void 0!==_cache_data_page?_cache_data_page:1}},"./packages/ui/src/redux/features/api/endpoints/public/stories/comments/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{JR:()=>get_story_comments_api,eT:()=>select_story_comments,z_:()=>use_get_story_comments_query});var _redux_features__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/ui/src/redux/features/api/utils/merge-fn/index.ts"),_redux_features_api_slice__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/ui/src/redux/features/api/slice.ts");const get_story_comments_api=_redux_features_api_slice__WEBPACK_IMPORTED_MODULE_0__.Qo.injectEndpoints({endpoints:builder=>({getStoryComments:builder.query({query:({story_id,type,page,sort,query})=>`/${(story_id=>`public/stories/${story_id}/comments`)(story_id)}?type=${type}&page=${page}&sort=${sort}${query?`&query=${encodeURIComponent(query)}`:""}`,serializeQueryArgs:({endpointName,queryArgs})=>`${endpointName}:${queryArgs.story_id}:${queryArgs.type}:${queryArgs.sort}:${queryArgs.query}`,transformResponse:(response,_,{page})=>({page,items:response,has_more:10===response.length}),merge:(cache,data)=>(0,_redux_features__WEBPACK_IMPORTED_MODULE_1__.U)(cache,data),providesTags:result=>result?[...result.items.map((({id})=>({type:"Comment",id}))),"Comment"]:["Comment"],forceRefetch:({currentArg,previousArg})=>(null==currentArg?void 0:currentArg.story_id)!==(null==previousArg?void 0:previousArg.story_id)||(null==currentArg?void 0:currentArg.type)!==(null==previousArg?void 0:previousArg.type)||(null==currentArg?void 0:currentArg.page)!==(null==previousArg?void 0:previousArg.page)||(null==currentArg?void 0:currentArg.sort)!==(null==previousArg?void 0:previousArg.sort)||(null==currentArg?void 0:currentArg.query)!==(null==previousArg?void 0:previousArg.query)})})}),{useLazyGetStoryCommentsQuery:use_get_story_comments_query,endpoints:{getStoryComments:{select:select_story_comments}}}=get_story_comments_api},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[14].use[3]!./apps/web/src/common/virtual/virtual.module.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".HI12_v5wPd5voS6hLTdO{padding-block:12px}.Y8sRUVYyEyNqVq3jnjX1:not(.ZCE2FQb7iaeRTHaOHU9P):first-of-type{margin-top:12px}","",{version:3,sources:["webpack://./apps/web/src/common/virtual/virtual.module.scss"],names:[],mappings:"AAAA,sBACE,kBAAA,CAIA,+DACE,eAAA",sourcesContent:[".list {\n  padding-block: 12px;\n}\n\n.list-item {\n  &:not(.story):first-of-type {\n    margin-top: 12px;\n  }\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={list:"HI12_v5wPd5voS6hLTdO","list-item":"Y8sRUVYyEyNqVq3jnjX1",story:"ZCE2FQb7iaeRTHaOHU9P"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[14].use[3]!./packages/editor/src/components/auxiliary-content/post-comment/post-comment.module.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".onTizNDL7gZbjRq1kBU0{padding-block:24px;gap:12px}.onTizNDL7gZbjRq1kBU0.QjP33Pq1rwxtknBQHmmW{align-items:center;justify-content:center;padding-block:36px}.UH22_AjRNdAb65acSvWU.FpfsYXGtoFTGVW_pLghs:not([data-focused=true]){border-color:rgba(0,0,0,0)}","",{version:3,sources:["webpack://./packages/editor/src/components/auxiliary-content/post-comment/post-comment.module.scss"],names:[],mappings:"AAAA,sBACE,kBAAA,CACA,QAAA,CAEA,2CACE,kBAAA,CACA,sBAAA,CACA,kBAAA,CAMA,oEACE,0BAAA",sourcesContent:['.response-area {\n  padding-block: 24px;\n  gap: 12px;\n\n  &.logged-out {\n    align-items: center;\n    justify-content: center;\n    padding-block: 36px;\n  }\n}\n\n.x {\n  &.response-textarea {\n    &:not([data-focused="true"]) {\n      border-color: transparent;\n    }\n  }\n}\n'],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={"response-area":"onTizNDL7gZbjRq1kBU0","logged-out":"QjP33Pq1rwxtknBQHmmW",x:"UH22_AjRNdAb65acSvWU","response-textarea":"FpfsYXGtoFTGVW_pLghs"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[14].use[3]!./packages/ui/src/entities/custom-state/custom-state.module.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".kcUGin7SVYNPF1uzpUFw{padding:var(--padding);gap:8px;align-items:center}.CKNiOd1rCXvcfBRPfUil{--icon-stroke: var(--fg-muted);--icon-stroke-width: 0.35px;padding:var(--icon-padding)}.LFiifR1Kt8i1K5UHr_Kj{align-items:center;gap:4px}.KsmoRaXaOxaqJx8q8J3I{font-family:var(--font-primary);font-size:var(--title-font-size);line-height:var(--title-line-height);word-break:break-word}.yrCOenNqrto1yiL0jcP4{--icon-size: 64px;--icon-padding: 4px;--padding: 32px;--title-font-size: 20px;--title-line-height: 24px}.JEnusX266nf7Y9ElkxO2{--icon-size: 48px;--icon-padding: 0;--padding: 24px 20px;--title-font-size: 18px;--title-line-height: 22px}","",{version:3,sources:["webpack://./packages/ui/src/entities/custom-state/custom-state.module.scss"],names:[],mappings:"AAAA,sBACE,sBAAA,CACA,OAAA,CACA,kBAAA,CAGF,sBACE,8BAAA,CACA,2BAAA,CAEA,2BAAA,CAGF,sBACE,kBAAA,CACA,OAAA,CAGF,sBACE,+BAAA,CACA,gCAAA,CACA,oCAAA,CACA,qBAAA,CAIF,sBACE,iBAAA,CACA,mBAAA,CACA,eAAA,CACA,uBAAA,CACA,yBAAA,CAGF,sBACE,iBAAA,CACA,iBAAA,CACA,oBAAA,CACA,uBAAA,CACA,yBAAA",sourcesContent:[".custom-state {\n  padding: var(--padding);\n  gap: 8px;\n  align-items: center;\n}\n\n.icon {\n  --icon-stroke: var(--fg-muted);\n  --icon-stroke-width: 0.35px;\n\n  padding: var(--icon-padding);\n}\n\n.content {\n  align-items: center;\n  gap: 4px;\n}\n\n.title {\n  font-family: var(--font-primary);\n  font-size: var(--title-font-size);\n  line-height: var(--title-line-height);\n  word-break: break-word;\n}\n\n/* Sizes */\n.md {\n  --icon-size: 64px;\n  --icon-padding: 4px;\n  --padding: 32px;\n  --title-font-size: 20px;\n  --title-line-height: 24px;\n}\n\n.sm {\n  --icon-size: 48px;\n  --icon-padding: 0;\n  --padding: 24px 20px;\n  --title-font-size: 18px;\n  --title-line-height: 22px;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={"custom-state":"kcUGin7SVYNPF1uzpUFw",icon:"CKNiOd1rCXvcfBRPfUil",content:"LFiifR1Kt8i1K5UHr_Kj",title:"KsmoRaXaOxaqJx8q8J3I",md:"yrCOenNqrto1yiL0jcP4",sm:"JEnusX266nf7Y9ElkxO2"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./apps/web/src/common/virtual/virtual.module.scss":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__),_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__),_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__),_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__),_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__),_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_14_use_1_node_modules_resolve_url_loader_index_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_14_use_3_virtual_module_scss__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[14].use[3]!./apps/web/src/common/virtual/virtual.module.scss"),options={};options.styleTagTransform=_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default(),options.setAttributes=_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default(),options.insert=_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null,"head"),options.domAPI=_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default(),options.insertStyleElement=_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default();_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_14_use_1_node_modules_resolve_url_loader_index_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_14_use_3_virtual_module_scss__WEBPACK_IMPORTED_MODULE_6__.A,options);const __WEBPACK_DEFAULT_EXPORT__=_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_14_use_1_node_modules_resolve_url_loader_index_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_14_use_3_virtual_module_scss__WEBPACK_IMPORTED_MODULE_6__.A&&_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_14_use_1_node_modules_resolve_url_loader_index_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_14_use_3_virtual_module_scss__WEBPACK_IMPORTED_MODULE_6__.A.locals?_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_14_use_1_node_modules_resolve_url_loader_index_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_14_use_3_virtual_module_scss__WEBPACK_IMPORTED_MODULE_6__.A.locals:void 0}}]);