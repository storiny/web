"use strict";(self.webpackChunk_storiny_monorepo=self.webpackChunk_storiny_monorepo||[]).push([[75837],{"./packages/editor/src/plugins/markdown/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>markdown});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),LexicalMarkdownShortcutPlugin_prod=__webpack_require__("./node_modules/@lexical/react/LexicalMarkdownShortcutPlugin.prod.mjs"),LexicalMarkdown_prod=(__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./node_modules/@lexical/markdown/LexicalMarkdown.prod.mjs")),LexicalHorizontalRuleNode_prod=__webpack_require__("./node_modules/@lexical/react/LexicalHorizontalRuleNode.prod.mjs"),Lexical_prod=__webpack_require__("./node_modules/lexical/Lexical.prod.mjs"),code_block=__webpack_require__("./packages/editor/src/nodes/code-block/code-block.tsx"),heading=__webpack_require__("./packages/editor/src/nodes/heading/heading.ts"),quote=__webpack_require__("./packages/editor/src/nodes/quote/quote.ts");const HEADING={dependencies:[heading.jL],export:(node,export_children)=>{if(!(0,heading.T_)(node))return null;const level=Number(node.get_tag().slice(1));return"#".repeat(level)+" "+export_children(node)},regExp:/^(#{1,6})\s/,replace:(create_node=match=>{const tag="h"+match[1].length;return(0,heading.Z3)(["h1","h2"].includes(tag)?"h2":"h3")},(parent_node,children,match)=>{const node=create_node(match);node.append(...children),parent_node.replace(node),node.select(0,0)}),type:"element"};var create_node;const QUOTE={dependencies:[quote.dJ],export:(node,export_children)=>{if(!(0,quote.LD)(node))return null;const lines=export_children(node).split("\n"),output=[];for(const line of lines)output.push("> "+line);return output.join("\n")},regExp:/^>\s/,replace:(parent_node,children,_match,is_import)=>{if(is_import){const prev_node=parent_node.getPreviousSibling();if((0,quote.LD)(prev_node))return prev_node.splice(prev_node.getChildrenSize(),0,[(0,Lexical_prod.WK)(),...children]),prev_node.select(0,0),void parent_node.remove()}const node=(0,quote.rT)();node.append(...children),parent_node.replace(node),node.select(0,0)},type:"element"},HR={dependencies:[LexicalHorizontalRuleNode_prod.fS],export:node=>(0,LexicalHorizontalRuleNode_prod.Hd)(node)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(parent_node,_1,_2,is_import)=>{const line=(0,LexicalHorizontalRuleNode_prod.PL)();is_import||null!=parent_node.getNextSibling()?parent_node.replace(line):parent_node.insertBefore(line),line.selectNext()},type:"element"},CODE_BLOCK={dependencies:[code_block.Vy],export:node=>{if(!(0,code_block.im)(node))return null;const code_content=node.get_code_content();return"```"+(node.get_language()||"")+(code_content?"\n"+code_content:"")+"\n```"},regExp:/^```(\w{1,10})?\s/,replace:(parent_node,_,match)=>{const[,language]=match,code_block_node=(0,code_block.mm)({language});parent_node.replace(code_block_node),code_block_node.insertAfter((0,Lexical_prod.lJ)())},type:"element"},MD_TRANSFORMERS=[HR,HEADING,QUOTE,LexicalMarkdown_prod.NB,LexicalMarkdown_prod.mK,LexicalMarkdown_prod.Up,LexicalMarkdown_prod.eA,LexicalMarkdown_prod.gb,LexicalMarkdown_prod.d7,LexicalMarkdown_prod.Pi,LexicalMarkdown_prod.Eg,LexicalMarkdown_prod.gW,LexicalMarkdown_prod.WY,LexicalMarkdown_prod.ps,CODE_BLOCK],MarkdownPlugin=()=>(0,jsx_runtime.jsx)(LexicalMarkdownShortcutPlugin_prod.E,{transformers:MD_TRANSFORMERS}),markdown=MarkdownPlugin;MarkdownPlugin.__docgenInfo={description:"",methods:[],displayName:"MarkdownPlugin"}}}]);