"use strict";(self.webpackChunk_storiny_monorepo=self.webpackChunk_storiny_monorepo||[]).push([[9896],{"./apps/web/src/app/(native)/(default)/explore/[[...category]]/entities/tag-list/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>tag_list});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),dynamic=__webpack_require__("./node_modules/next/dynamic.js"),dynamic_default=__webpack_require__.n(dynamic),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),common_dynamic=__webpack_require__("./apps/web/src/common/dynamic/index.tsx"),tag=__webpack_require__("./apps/web/src/common/tag/index.ts"),error_state=__webpack_require__("./packages/ui/src/entities/error-state/error-state.tsx"),use_default_fetch=__webpack_require__("./packages/ui/src/hooks/use-default-fetch/index.ts"),use_pagination=__webpack_require__("./packages/ui/src/hooks/use-pagination/index.ts"),tags=__webpack_require__("./packages/ui/src/redux/features/api/endpoints/public/explore/tags/index.ts"),get_query_error_type=__webpack_require__("./packages/ui/src/redux/features/api/utils/get-query-error-type/index.ts");const EmptyState=dynamic_default()((()=>__webpack_require__.e(68140).then(__webpack_require__.bind(__webpack_require__,"./apps/web/src/app/(native)/(default)/explore/[[...category]]/entities/tag-list/empty-state.tsx"))),{loadableGenerated:{webpack:()=>["./apps/web/src/app/(native)/(default)/explore/[[...category]]/entities/tag-list/empty-state.tsx"]},loading:(0,common_dynamic.S)()}),TagList=({category,debounced_query,loading:loading_prop})=>{const page=(0,use_pagination.h)((0,tags.P)({page:1,category,query:debounced_query})),[trigger,{data:{items=[],has_more}={},isLoading:is_loading,isFetching:is_fetching,isError:is_error,error}]=(0,tags._)(),refetch=(0,use_default_fetch.J)(trigger,{page,category,query:debounced_query},[category,debounced_query]),loading=is_loading||loading_prop,load_more=react.useCallback((()=>{trigger({page:page+1,category,query:debounced_query},!0)}),[category,debounced_query,page,trigger]);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:loading||is_fetching&&1===page?(0,jsx_runtime.jsx)(tag.W6,{}):is_error?(0,jsx_runtime.jsx)(error_state.A,{auto_size:!0,component_props:{button:{loading:is_fetching}},retry:refetch,type:(0,get_query_error_type.w)(error)}):is_fetching||items.length?(0,jsx_runtime.jsx)(tag.iH,{has_more:Boolean(has_more),load_more,tags:items}):(0,jsx_runtime.jsx)(EmptyState,{query:debounced_query})})},tag_list=TagList;TagList.__docgenInfo={description:"",methods:[],displayName:"TagList",props:{category:{required:!0,tsType:{name:"union",raw:'StoryCategory | "all"',elements:[{name:"StoryCategory"},{name:"literal",value:'"all"'}]},description:""},debounced_query:{required:!0,tsType:{name:"string"},description:""},loading:{required:!0,tsType:{name:"boolean"},description:""}}}},"./apps/web/src/common/tag/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W6:()=>list_skeleton,rH:()=>list_item,iH:()=>list,c5:()=>scroll_seek_placeholder});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),dist=__webpack_require__("./node_modules/react-virtuoso/dist/index.mjs"),main_module=__webpack_require__("./packages/ui/src/theme/main.module.scss"),footer=__webpack_require__("./apps/web/src/common/virtual/footer/index.ts");const VirtualizedTagListContext=react.createContext({}),VirtualizedTagList=react.memo((({tags,has_more,load_more,tag_props,className,...rest})=>(0,jsx_runtime.jsx)(VirtualizedTagListContext.Provider,{value:tag_props||{},children:(0,jsx_runtime.jsx)(dist.aY,{increaseViewportBy:750,scrollSeekConfiguration:{enter:velocity=>Math.abs(velocity)>950,exit:velocity=>Math.abs(velocity)<10},useWindowScroll:!0,...rest,className:(0,clsx_m.$)(main_module.A["full-w"],main_module.A["full-h"],className),components:{Item:list_item,ScrollSeekPlaceholder:scroll_seek_placeholder,...has_more&&{Footer:footer.A}},data:tags,endReached:has_more?load_more:()=>{}})})));VirtualizedTagList.displayName="VirtualizedTagList";const list=VirtualizedTagList;VirtualizedTagList.__docgenInfo={description:"",methods:[],displayName:"VirtualizedTagList",props:{has_more:{required:!0,tsType:{name:"boolean"},description:"Flag indicating whether there are more tags to render."},load_more:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"A callback function to fetch more tags."},tag_props:{required:!1,tsType:{name:"Partial",elements:[{name:"TagProps"}],raw:"Partial<TagProps>"},description:"Props passed down to individual tag entities."},tags:{required:!0,tsType:{name:"Array",elements:[{name:"Tag"}],raw:"Tag[]"},description:"Array of tags to render."}},composes:["VirtuosoProps"]};var divider=__webpack_require__("./packages/ui/src/components/divider/divider.tsx"),tag=__webpack_require__("./packages/ui/src/entities/tag/tag.tsx"),virtual_module=__webpack_require__("./apps/web/src/common/virtual/virtual.module.scss");const VirtualizedTagItem=react.memo((({item,...rest})=>{const tag_props=react.useContext(VirtualizedTagListContext);return(0,jsx_runtime.jsxs)("div",{...rest,className:(0,clsx_m.$)(main_module.A["flex-col"],virtual_module.A["list-item"]),children:[(0,jsx_runtime.jsx)(tag.A,{...tag_props,tag:item,virtual:!0}),(0,jsx_runtime.jsx)(divider.A,{style:{marginInline:"var(--grid-compensation)"}})]})}));VirtualizedTagItem.displayName="VirtualizedTagItem";const list_item=VirtualizedTagItem;VirtualizedTagItem.__docgenInfo={description:"",methods:[],displayName:"VirtualizedTagItem"};var skeleton=__webpack_require__("./packages/ui/src/entities/tag/skeleton/skeleton.tsx");const TagListSkeleton=react.memo((()=>(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.$)(main_module.A["flex-col"],virtual_module.A.list),children:[...Array(10)].map(((_,index)=>(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(skeleton.A,{virtual:!0}),(0,jsx_runtime.jsx)(divider.A,{className:main_module.A["hide-last"],style:{marginInline:"var(--grid-compensation)"}})]},index)))})));TagListSkeleton.displayName="TagListSkeleton";const list_skeleton=TagListSkeleton;TagListSkeleton.__docgenInfo={description:"",methods:[],displayName:"TagListSkeleton"};const VirtualizedTagScrollSeekPlaceholder=react.memo((()=>(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.$)(main_module.A["flex-col"],virtual_module.A["list-item"]),children:[(0,jsx_runtime.jsx)(skeleton.A,{virtual:!0}),(0,jsx_runtime.jsx)(divider.A,{style:{marginInline:"var(--grid-compensation)"}})]})));VirtualizedTagScrollSeekPlaceholder.displayName="VirtualizedTagScrollSeekPlaceholder";const scroll_seek_placeholder=VirtualizedTagScrollSeekPlaceholder;VirtualizedTagScrollSeekPlaceholder.__docgenInfo={description:"",methods:[],displayName:"VirtualizedTagScrollSeekPlaceholder"}}}]);