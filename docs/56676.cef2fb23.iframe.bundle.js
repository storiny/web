"use strict";(self.webpackChunk_storiny_monorepo=self.webpackChunk_storiny_monorepo||[]).push([[56676],{"./packages/editor/src/plugins/list-max-indent-level/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>list_max_indent_level});var LexicalList_prod=__webpack_require__("./node_modules/@lexical/list/LexicalList.prod.mjs"),LexicalComposerContext_prod=__webpack_require__("./node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),Lexical_prod=__webpack_require__("./node_modules/lexical/Lexical.prod.mjs"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const is_indent_permitted=()=>{const selection=(0,Lexical_prod.vJ)();if(!(0,Lexical_prod.I2)(selection))return!1;const element_nodes_in_selection=(selection=>{const nodes_in_selection=selection.getNodes();return 0===nodes_in_selection.length?new Set([selection.anchor.getNode().getParentOrThrow(),selection.focus.getNode().getParentOrThrow()]):new Set(nodes_in_selection.map((n=>(0,Lexical_prod.ff)(n)?n:n.getParentOrThrow())))})(selection);let total_depth=0;for(const element_node of element_nodes_in_selection)if((0,LexicalList_prod.HY)(element_node))total_depth=Math.max((0,LexicalList_prod.g2)(element_node)+1,total_depth);else if((0,LexicalList_prod.Mz)(element_node)){const parent=element_node.getParent();if(!(0,LexicalList_prod.HY)(parent))throw new Error("ListMaxIndentLevelPlugin: A `ListItemNode` must have a `ListNode` for a parent.");total_depth=Math.max((0,LexicalList_prod.g2)(parent)+1,total_depth)}return total_depth<=3},list_max_indent_level=()=>{const[editor]=(0,LexicalComposerContext_prod.DF)();return react.useEffect((()=>editor.registerCommand(Lexical_prod.Pi,(()=>!is_indent_permitted()),Lexical_prod.d)),[editor]),null}}}]);