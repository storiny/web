"use strict";(self.webpackChunk_storiny_monorepo=self.webpackChunk_storiny_monorepo||[]).push([[18848],{"./packages/editor/src/plugins/link/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>link_link});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),LexicalLink_prod=__webpack_require__("./node_modules/@lexical/link/LexicalLink.prod.mjs"),LexicalComposerContext_prod=__webpack_require__("./node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),LexicalUtils_prod=__webpack_require__("./node_modules/@lexical/utils/LexicalUtils.prod.mjs"),Lexical_prod=__webpack_require__("./node_modules/lexical/Lexical.prod.mjs"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");function u({validateUrl:u}){const[p]=(0,LexicalComposerContext_prod.DF)();return(0,react.useEffect)((()=>{if(!p.hasNodes([LexicalLink_prod.Db]))throw new Error("LinkPlugin: LinkNode not registered on editor");return(0,LexicalUtils_prod.Sd)(p.registerCommand(LexicalLink_prod.yW,(t=>{if(null===t)return(0,LexicalLink_prod.Hx)(t),!0;if("string"==typeof t)return!(void 0!==u&&!u(t)||((0,LexicalLink_prod.Hx)(t),0));{const{url:r,target:o,rel:i,title:n}=t;return(0,LexicalLink_prod.Hx)(r,{rel:i,target:o,title:n}),!0}}),Lexical_prod.Ac),void 0!==u?p.registerCommand(Lexical_prod.w,(t=>{const e=(0,Lexical_prod.vJ)();if(!(0,Lexical_prod.I2)(e)||e.isCollapsed()||!(0,LexicalUtils_prod.xj)(t,ClipboardEvent))return!1;const o=t;if(null===o.clipboardData)return!1;const i=o.clipboardData.getData("text");return!!u(i)&&!e.getNodes().some((t=>(0,Lexical_prod.ff)(t)))&&(p.dispatchCommand(LexicalLink_prod.yW,i),t.preventDefault(),!0)}),Lexical_prod.Ac):()=>{})}),[p,u]),null}var sanitize_url=__webpack_require__("./packages/editor/src/utils/sanitize-url/index.ts");const LinkPlugin=()=>(0,jsx_runtime.jsx)(u,{validateUrl:sanitize_url.J}),link_link=LinkPlugin;LinkPlugin.__docgenInfo={description:"",methods:[],displayName:"LinkPlugin"}}}]);