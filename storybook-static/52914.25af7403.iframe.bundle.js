"use strict";(self.webpackChunk_storiny_monorepo=self.webpackChunk_storiny_monorepo||[]).push([[52914],{"./apps/web/src/app/(native)/(default)/explore/[[...category]]/entities/writer-list/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>writer_list});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),dynamic=__webpack_require__("./node_modules/next/dynamic.js"),dynamic_default=__webpack_require__.n(dynamic),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),common_dynamic=__webpack_require__("./apps/web/src/common/dynamic/index.tsx"),user=__webpack_require__("./apps/web/src/common/user/index.ts"),error_state=__webpack_require__("./packages/ui/src/entities/error-state/error-state.tsx"),use_default_fetch=__webpack_require__("./packages/ui/src/hooks/use-default-fetch/index.ts"),use_pagination=__webpack_require__("./packages/ui/src/hooks/use-pagination/index.ts"),writers=__webpack_require__("./packages/ui/src/redux/features/api/endpoints/public/explore/writers/index.ts"),get_query_error_type=__webpack_require__("./packages/ui/src/redux/features/api/utils/get-query-error-type/index.ts");const EmptyState=dynamic_default()((()=>__webpack_require__.e(90443).then(__webpack_require__.bind(__webpack_require__,"./apps/web/src/app/(native)/(default)/explore/[[...category]]/entities/writer-list/empty-state.tsx"))),{loadableGenerated:{webpack:()=>["./apps/web/src/app/(native)/(default)/explore/[[...category]]/entities/writer-list/empty-state.tsx"]},loading:(0,common_dynamic.S)()}),WriterList=({category,debounced_query,loading:loading_prop})=>{const page=(0,use_pagination.h)((0,writers.k)({page:1,category,query:debounced_query})),[trigger,{data:{items=[],has_more}={},isLoading:is_loading,isFetching:is_fetching,isError:is_error,error}]=(0,writers.V)(),refetch=(0,use_default_fetch.J)(trigger,{page,category,query:debounced_query},[category,debounced_query]),loading=is_loading||loading_prop,load_more=react.useCallback((()=>{trigger({page:page+1,category,query:debounced_query},!0)}),[category,debounced_query,page,trigger]);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:loading||is_fetching&&1===page?(0,jsx_runtime.jsx)(user.NG,{}):is_error?(0,jsx_runtime.jsx)(error_state.A,{auto_size:!0,component_props:{button:{loading:is_fetching}},retry:refetch,type:(0,get_query_error_type.w)(error)}):is_fetching||items.length?(0,jsx_runtime.jsx)(user.Hj,{has_more:Boolean(has_more),load_more,users:items}):(0,jsx_runtime.jsx)(EmptyState,{query:debounced_query})})},writer_list=WriterList;WriterList.__docgenInfo={description:"",methods:[],displayName:"WriterList",props:{category:{required:!0,tsType:{name:"union",raw:'StoryCategory | "all"',elements:[{name:"StoryCategory"},{name:"literal",value:'"all"'}]},description:""},debounced_query:{required:!0,tsType:{name:"string"},description:""},loading:{required:!0,tsType:{name:"boolean"},description:""}}}}}]);