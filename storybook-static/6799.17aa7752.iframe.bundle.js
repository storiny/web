"use strict";(self.webpackChunk_storiny_monorepo=self.webpackChunk_storiny_monorepo||[]).push([[6799],{"./packages/editor/src/plugins/embed/embed.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,o:()=>INSERT_EMBED_COMMAND});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lexical/Lexical.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_nodes_embed__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/editor/src/nodes/embed/embed.tsx"),_utils_create_figure_node_with_caption__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/editor/src/utils/create-figure-node-with-caption/index.ts");const INSERT_EMBED_COMMAND=(0,lexical__WEBPACK_IMPORTED_MODULE_1__.gu)("INSERT_EMBED_COMMAND"),__WEBPACK_DEFAULT_EXPORT__=()=>{const[editor]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_2__.DF)();return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{if(!editor.hasNodes([_nodes_embed__WEBPACK_IMPORTED_MODULE_3__.oi]))throw new Error("EmbedPlugin: EmbedNode not registered on editor");return editor.registerCommand(INSERT_EMBED_COMMAND,(payload=>((0,_utils_create_figure_node_with_caption__WEBPACK_IMPORTED_MODULE_4__.b)((0,_nodes_embed__WEBPACK_IMPORTED_MODULE_3__.Kr)(payload)),!0)),lexical__WEBPACK_IMPORTED_MODULE_1__.jZ)}),[editor]),null}},"./packages/editor/src/plugins/embed/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>_embed__WEBPACK_IMPORTED_MODULE_0__.A});var _embed__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/editor/src/plugins/embed/embed.tsx")},"./packages/editor/src/utils/create-figure-node-with-caption/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>$create_figure_node_with_caption});var _lexical_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@lexical/utils/LexicalUtils.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lexical/Lexical.prod.mjs"),_nodes_caption__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/editor/src/nodes/caption/caption.ts"),_nodes_figure__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/editor/src/nodes/figure/figure.ts");const $create_figure_node_with_caption=(block_node,caption)=>{const figure_node=(0,_nodes_figure__WEBPACK_IMPORTED_MODULE_0__.h2)(),caption_node=(0,_nodes_caption__WEBPACK_IMPORTED_MODULE_1__.jS)();caption&&caption_node.append(...caption),figure_node.append(block_node,caption_node),(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_2__.Pe)(figure_node).insertAfter((0,lexical__WEBPACK_IMPORTED_MODULE_3__.lJ)())}}}]);