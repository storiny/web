syntax = "proto3";

package user_def.v1;

enum StatusVisibility {
  STATUS_VISIBILITY_UNSPECIFIED /**/ = 0;
  STATUS_VISIBILITY_GLOBAL /*     */ = 1;
  STATUS_VISIBILITY_FOLLOWERS /*  */ = 2;
  STATUS_VISIBILITY_FRIENDS /*    */ = 3;
}

message Status {
  optional string emoji /*      */ = 1;
  optional string text /*       */ = 2;
  optional string expires_at /* */ = 3;
  StatusVisibility visibility /**/ = 4;
}

// Get user ID

message GetUserIdRequest {
  string token = 1; // Token from the session cookie
}

message GetUserIdResponse {
  string id = 1;
}

// Get user relations info

message GetUserRelationsInfoRequest {
  string id = 1;
}

message GetUserRelationsInfoResponse {
  uint32 follower_count /*              */ = 1;
  uint32 following_count /*             */ = 2;
  uint32 friend_count /*                */ = 3;
  uint32 pending_friend_request_count /**/ = 4;
}

// Get user blocks count

message GetUserBlockCountRequest {
  string id = 1;
}

message GetUserBlockCountResponse {
  uint32 block_count = 1;
}
