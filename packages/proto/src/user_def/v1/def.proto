syntax = "proto3";

package user_def.v1;

enum StatusVisibility {
  UNSPECIFIED = 0;
  GLOBAL = 1;
  FOLLOWERS = 2;
  FRIENDS = 3;
}

message Status {
  optional string emoji = 1;
  optional string text = 2;
  optional string expires_at = 3;
  StatusVisibility visibility = 4;
}

// Get user ID

message GetUserIdRequest {
  string token = 1; // Token from the session cookie
}

message GetUserIdResponse {
  string id = 1;
}

// Get user credentials

message GetUserCredentialsRequest {
  string id = 1; // User ID
}

message GetUserCredentialsResponse {
  bool has_password = 1;
  bool is_2fa_enabled = 2;
  optional string login_apple_id = 3;
  optional string login_google_id = 4;
}
