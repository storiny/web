syntax = "proto3";

package api_service.v1;

import "credentials_def/v1/def.proto";
import "privacy_settings_def/v1/def.proto";
import "profile_def/v1/def.proto";
import "tag_def/v1/def.proto";
import "token_def/v1/def.proto";
import "user_def/v1/def.proto";

// Service definition
service ApiService {
  /**
   * Checks whether the user is authenticated using the token from the session cookie
   */
  rpc GetUserId(user_def.v1.GetUserIdRequest) returns (user_def.v1.GetUserIdResponse) {}
  /**
   * Returns the profile page data for a user
   */
  rpc GetProfile(profile_def.v1.GetProfileRequest) returns (profile_def.v1.GetProfileResponse) {}
  /**
   * Returns the tag page data for a tag
   */
  rpc GetTag(tag_def.v1.GetTagRequest) returns (tag_def.v1.GetTagResponse) {}
  /**
   * Returns the token using its identifier
   */
  rpc GetToken(token_def.v1.GetTokenRequest) returns (token_def.v1.GetTokenResponse) {}
  /**
   * Verifies a user's email using the provided token identifier
   */
  rpc VerifyEmail(token_def.v1.VerifyEmailRequest) returns (token_def.v1.VerifyEmailResponse) {}
  /**
   * Returns the user's credentials
   */
  rpc GetCredentials(credentials_def.v1.GetCredentialsRequest) returns (credentials_def.v1.GetCredentialsResponse) {}
  /**
   * Returns the user's privacy settings
   */
  rpc GetPrivacySettings(privacy_settings_def.v1.GetPrivacySettingsRequest) returns (privacy_settings_def.v1.GetPrivacySettingsResponse) {}
}
