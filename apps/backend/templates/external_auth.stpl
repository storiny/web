<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Continue to Storiny</title>
    <meta content="initial-scale=1,width=device-width,shrink-to-fit=no" name="viewport">
    <meta content="noindex,nofollow" name="robots">
    <style>
        html,
        body {
            color-scheme: dark;
            background: hsl(214deg 8% 10%);
        }

        body {
            margin: 0;
            padding: 3rem 16px;
            border: none;
            outline: none;
            height: 100vh;
            overflow: hidden;
        }

        main {
            height: 100%;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            gap: 32px;
        }

        p {
            margin: 0;
            padding: 0;
            border: 0;
            color: #b3b3b3;
            vertical-align: baseline;
            font-family: -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Cantarell, Ubuntu, roboto, noto, arial, sans-serif;
            font-size: 14px;
            line-height: 19px;
        }

        p.error {
            color: #f83f5e;
        }

        .content {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            gap: 32px;
        }

        svg:not(.x) {
            width: 74px;
            height: 74px;
        }

        svg:not(.x) path {
            fill: #fcfcfc;
        }

        .account {
            font-weight: bold;
        }

        @media (max-width: 600px) {
            .content {
                gap: 24px;
            }

            svg:not(.x) {
                width: 58px;
                height: 58px;
            }
        }
    </style>
</head>
<body dir="ltr">
<main>
    <div aria-hidden="true" class="content">
        <svg viewBox="0 0 64 64"
        >
            <path
                    d="M41.98 9.64a11.5 11.5 0 1 0-7.05 16.88l8.06 13.96a11.5 11.5 0 1 0 5.27-3.05l-8.05-13.96a11.5 11.5 0 0 0 1.77-13.83ZM12.82 60.12a11.5 11.5 0 1 0 0-23 11.5 11.5 0 0 0 0 23Z"
            />
        </svg>
        <svg class="x" viewBox="0 0 12 12" width="24" height="24">
            <path d="M9 3 3 9m0-6 6 6" stroke="#f83f5e" stroke-width="1" stroke-linecap="round"
                  stroke-linejoin="round"/>
        </svg>
        <%- provider_icon %>
    </div>
    <div>
        <p class="error">
            <% match error {
            error::ExternalAuthError::StateMismatch => { %>
            Login failed due to the request being tampered during the authentication window.
            <% } error::ExternalAuthError::InsufficientScopes => { %>
            Unable to log you in as you (or the provider) did not grant the required scopes.
            <% } error::ExternalAuthError::DuplicateEmail => { %>
            The email associated with this <span class="account"><%= provider_name %></span> account is already used by
            some other <span class="account">Storiny</span> account.
            <% } error::ExternalAuthError::UserSuspended => { %>
            The <span class="account">Storiny</span> account associated with your <span class="account"><%= provider_name %></span>
            account has been suspended.
            <% } error::ExternalAuthError::UserDeleted => { %>
            The <span class="account">Storiny</span> account associated with your <span class="account"><%= provider_name %></span>
            account has been requested for deletion. Log in using your password to continue.
            <% } error::ExternalAuthError::UserDeactivated => { %>
            The <span class="account">Storiny</span> account associated with your <span class="account"><%= provider_name %></span>
            account has been deactivated. Log in using your password to continue.
            <% } _ => { %>
            Login failed due to an internal error. Please try again later.
            <% }
            } %>
        </p>
    </div>
</main>
</body>
</html>