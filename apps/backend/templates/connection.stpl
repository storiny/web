<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Connections â€” Storiny</title>
    <meta content="initial-scale=1,width=device-width,shrink-to-fit=no" name="viewport">
    <meta content="noindex,nofollow" name="robots">
    <style>
        @font-face {
            font-family: satoshi;
            font-weight: 100 900;
            font-style: normal;
            src: url("https://cdn.storiny.com/web-assets/raw/fonts/satoshi.woff") format("woff2");
        }

        html,
        body {
            color-scheme: dark;
            background: hsl(214deg 8% 10%);
        }

        body {
            margin: 0;
            padding: 3rem 16px;
            border: none;
            outline: none;
            height: 100vh;
            overflow: hidden;
        }

        main {
            height: 100%;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            gap: 32px;
        }

        p {
            margin: 0;
            padding: 0;
            border: 0;
            color: #b3b3b3;
            vertical-align: baseline;
            font-family: satoshi, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Cantarell, Ubuntu, roboto, noto, arial, sans-serif;
            font-size: 16px;
            line-height: 21px;
        }

        p.error {
            color: #f83f5e;
        }

        .content {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            gap: 32px;
        }

        svg:not(.plus) {
            width: 74px;
            height: 74px;
        }

        svg:not(.plus) path {
            fill: #fcfcfc;
        }

        .account {
            font-weight: bold;
        }

        .sub {
            margin-top: 8px;
            font-size: 14px;
            line-height: 19px;
        }

        @media (max-width: 600px) {
            .content {
                gap: 24px;
            }

            svg:not(.plus) {
                width: 58px;
                height: 58px;
            }
        }
    </style>
</head>
<body dir="ltr">
<main>
    <div aria-hidden="true" class="content">
        <svg viewBox="0 0 64 64"
        >
            <path
                    d="M41.98 9.64a11.5 11.5 0 1 0-7.05 16.88l8.06 13.96a11.5 11.5 0 1 0 5.27-3.05l-8.05-13.96a11.5 11.5 0 0 0 1.77-13.83ZM12.82 60.12a11.5 11.5 0 1 0 0-23 11.5 11.5 0 0 0 0 23Z"
            />
        </svg>
        <svg class="plus" width="32" height="32">
            <path d="M16 7.17v18.66M6.67 16.5h18.66" stroke="#828282" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round"/>
        </svg>
        <%- provider_icon %>
    </div>
    <div>
        <% if let Some(err) = error { %>
        <p class="error">
            Failed to connect your <span class="account"><%= provider_name %></span> account to <span
                class="account">Storiny</span>
        </p>
        <% match err {
        routes::oauth::ConnectionError::StateMismatch => { %>
        <p class="sub">
            The request was tampered during the authentication window.
        </p>
        <% } routes::oauth::ConnectionError::InsufficientScopes => { %>
        <p class="sub">
            You (or the provider) did not grant the required scopes.
        </p>
        <% } routes::oauth::ConnectionError::Duplicate => { %>
        <p class="sub">
            You already have a <span class="account"><%= provider_name %></span> account connected to your <span
                class="account">Storiny</span>
            account.
        </p>
        <% } _ => {}
        } %>
        <% } else { %>
        <p>
            Connected your <span class="account"><%= provider_name %></span> account to <span
                class="account">Storiny</span>
        </p>
        <p class="sub">
            You can close this window.
        </p>
        <% } %>
    </div>
</main>
</body>
</html>