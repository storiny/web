import { clsx } from "clsx";
import React from "react";

import AspectRatio from "../../../../../../../../../../../../../../packages/ui/src/components/aspect-ratio";
import Divider from "../../../../../../../../../../../../../../packages/ui/src/components/divider";
import Radio from "../../../../../../../../../../../../../../packages/ui/src/components/radio";
import RadioGroup from "../../../../../../../../../../../../../../packages/ui/src/components/radio-group";
import Spacer from "../../../../../../../../../../../../../../packages/ui/src/components/spacer";
import Typography from "../../../../../../../../../../../../../../packages/ui/src/components/typography";
import { use_media_query } from "../../../../../../../../../../../../../../packages/ui/src/hooks/use-media-query";
import { set_reading_font } from "~/redux/features";
import { use_app_dispatch, use_app_selector } from "~/redux/hooks";
import { BREAKPOINTS } from "~/theme/breakpoints";

import common_styles from "../../styles.module.scss";
import typefaceStyles from "../../typeface.module.scss";

const SatoshiPreview = (): React.ReactElement => (
  <svg
    className={clsx(typefaceStyles.x, typefaceStyles.svg)}
    fill="none"
    viewBox="0 0 56 46"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M4.18 34.64H.68L13.3.27h4.27l12.77 34.37h-3.6l-3.36-9.12H7.54l-3.36 9.12Zm10.8-29.52L8.59 22.5h13.68L15.84 5.12a7.07 7.07 0 0 0-.24-.77c-.1-.25-.16-.46-.2-.62-.02.16-.09.38-.18.67-.07.26-.15.5-.24.72ZM32.62 22.35c0-2.11.44-4.03 1.3-5.76a10.39 10.39 0 0 1 3.74-4.22 10.54 10.54 0 0 1 5.86-1.59c2.2 0 4.1.55 5.66 1.64a8.89 8.89 0 0 1 3.36 4.7l-.52.67.43-6.38h2.88v22.5c0 2.31-.47 4.31-1.4 6a9.64 9.64 0 0 1-3.93 4 11.61 11.61 0 0 1-5.9 1.43c-2.98 0-5.45-.8-7.4-2.4a10.47 10.47 0 0 1-3.65-6.57h3.32a6.83 6.83 0 0 0 2.54 4.37 8.34 8.34 0 0 0 5.23 1.58c2.4 0 4.32-.74 5.76-2.2 1.44-1.48 2.16-3.43 2.16-5.86v-7.3l.48.62a9.13 9.13 0 0 1-3.5 4.66 9.93 9.93 0 0 1-5.76 1.68 10.13 10.13 0 0 1-9.4-5.76 13.42 13.42 0 0 1-1.26-5.8Zm3.32-.05c0 1.6.3 3.06.9 4.37a7.75 7.75 0 0 0 2.7 3.12 7.59 7.59 0 0 0 4.22 1.15c1.66 0 3.09-.36 4.27-1.1a7.58 7.58 0 0 0 2.78-3.07c.64-1.31.96-2.8.96-4.47 0-1.66-.32-3.13-.96-4.41a7.04 7.04 0 0 0-2.68-3.03 7.62 7.62 0 0 0-4.32-1.15 7.45 7.45 0 0 0-6.96 4.32 9.83 9.83 0 0 0-.91 4.27Z"
      fill="var(--typeface-preview-fill)"
    />
  </svg>
);

const SystemPreview = (): React.ReactElement => (
  <svg
    className={clsx(typefaceStyles.x, typefaceStyles.svg)}
    fill="none"
    viewBox="0 0 54 44"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M.41 34.38h4.43l10.2-28.76h1.07V.56H13L.4 34.38Zm5.77-9.68h17.8l-1.4-3.58h-15l-1.4 3.58Zm19.12 9.68h4.43L17.17.56h-2.04v5.06L25.3 34.38ZM42.83 43.05c2.2 0 4.11-.39 5.72-1.17a8.63 8.63 0 0 0 3.73-3.26 9.05 9.05 0 0 0 1.31-4.92V10h-4.08v4.13h-.1a9.1 9.1 0 0 0-4.47-4 8.45 8.45 0 0 0-3.19-.6c-2.06 0-3.87.52-5.43 1.55a10.45 10.45 0 0 0-3.68 4.36 15.33 15.33 0 0 0-1.32 6.59v.02c0 2.53.43 4.75 1.3 6.64a10.52 10.52 0 0 0 3.63 4.38 9.6 9.6 0 0 0 5.41 1.55 8.75 8.75 0 0 0 5.88-2.09 8.06 8.06 0 0 0 1.88-2.34h.1v3.11c0 1.9-.6 3.39-1.77 4.48-1.17 1.1-2.82 1.66-4.96 1.66a10 10 0 0 1-4.18-.77 4.2 4.2 0 0 1-2.25-2.06l-.09-.21h-4.1l.04.2c.27 1.21.86 2.3 1.76 3.27a9.42 9.42 0 0 0 3.61 2.32c1.5.57 3.25.86 5.25.86Zm-.28-12.04a6.53 6.53 0 0 1-3.75-1.08 7.1 7.1 0 0 1-2.46-3.1 12.34 12.34 0 0 1-.84-4.78v-.02c0-1.81.28-3.38.84-4.71a6.94 6.94 0 0 1 2.46-3.07 6.43 6.43 0 0 1 3.75-1.1c1.38 0 2.59.36 3.63 1.1a7.16 7.16 0 0 1 2.44 3.1c.6 1.32.9 2.88.9 4.68v.02c0 1.8-.3 3.37-.9 4.71a7.3 7.3 0 0 1-2.44 3.14 6.1 6.1 0 0 1-3.63 1.1Z"
      fill="var(--typeface-preview-fill)"
    />
  </svg>
);

const NunitoPreview = (): React.ReactElement => (
  <svg
    className={clsx(typefaceStyles.x, typefaceStyles.svg)}
    fill="none"
    viewBox="0 0 58 44"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M2.01 34.7c-.51 0-.93-.12-1.25-.34a1.6 1.6 0 0 1-.52-.96c-.04-.42.06-.88.28-1.4l13.2-30.04c.3-.64.63-1.09 1.01-1.34.42-.3.87-.44 1.35-.44.48 0 .9.15 1.3.44.4.25.74.7 1 1.34L31.63 32c.25.5.35.97.29 1.39-.04.41-.2.73-.48.96-.3.22-.7.34-1.2.34-.58 0-1.04-.15-1.4-.44a3.49 3.49 0 0 1-.86-1.34l-3.55-8.2 1.92 1H5.7l1.97-1-3.5 8.2c-.3.6-.6 1.05-.92 1.34a1.8 1.8 0 0 1-1.25.44ZM16.03 5.13 8.3 23.32l-1.15-.91H24.9l-1.06.9-7.73-18.18h-.1ZM47.26 43.43c-1.7 0-3.36-.2-5-.62-1.6-.39-3.05-1.01-4.36-1.88a1.7 1.7 0 0 1-.77-.81c-.1-.32-.11-.64-.05-.96.07-.29.21-.56.43-.82.23-.22.48-.37.77-.43.32-.06.64-.01.96.15a14.54 14.54 0 0 0 7.83 2.25c2.27 0 3.98-.6 5.13-1.82 1.19-1.22 1.78-2.98 1.78-5.28v-5.43h.48a7.5 7.5 0 0 1-3.07 4.42 9.14 9.14 0 0 1-5.43 1.63c-2.14 0-4-.48-5.57-1.44a9.96 9.96 0 0 1-3.64-4.13 14.11 14.11 0 0 1-1.25-6.1c0-1.72.24-3.29.72-4.7a10.15 10.15 0 0 1 2.06-3.65 9.35 9.35 0 0 1 3.31-2.35c1.32-.57 2.77-.86 4.37-.86 2.11 0 3.94.54 5.47 1.63a7.14 7.14 0 0 1 2.98 4.32l-.48.58v-4.47c0-.64.16-1.12.48-1.44.35-.35.83-.53 1.44-.53.64 0 1.12.18 1.44.53.32.32.48.8.48 1.44v20.02c0 3.55-.9 6.22-2.69 8.02-1.76 1.82-4.37 2.73-7.82 2.73Zm-.58-12.77c1.5 0 2.8-.33 3.89-1a6.74 6.74 0 0 0 2.5-2.98c.6-1.28.9-2.79.9-4.51 0-2.6-.65-4.64-1.96-6.15a6.64 6.64 0 0 0-5.33-2.3 6.73 6.73 0 0 0-6.38 3.98 10.58 10.58 0 0 0-.87 4.47c0 2.59.66 4.65 1.97 6.19a6.6 6.6 0 0 0 5.28 2.3Z"
      fill="var(--typeface-preview-fill)"
    />
  </svg>
);

const SynonymPreview = (): React.ReactElement => (
  <svg
    className={clsx(typefaceStyles.x, typefaceStyles.svg)}
    fill="none"
    viewBox="0 0 58 46"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M4.25 34.09H.7L14.3.49h3.07l13.63 33.6h-3.74l-3.6-8.74H7.9L4.25 34.1Zm4.76-11.71h13.48L15.77 5.1 9.01 22.38ZM56.91 37.83a5.3 5.3 0 0 1-1.53 3.75 9.53 9.53 0 0 1-4.13 2.59c-1.76.64-3.8.96-6.14.96-2.05 0-3.84-.26-5.38-.77a8.23 8.23 0 0 1-3.55-2.2 5.03 5.03 0 0 1-1.25-3.42c0-1.4.58-2.65 1.73-3.74a11.71 11.71 0 0 1 4.94-2.4 5.55 5.55 0 0 1-2.11-1.3 2.62 2.62 0 0 1-.05-3.55c.48-.54 1.3-1 2.45-1.34a8.5 8.5 0 0 1-4.13-2.83 7.78 7.78 0 0 1-1.49-4.76c0-1.6.39-3 1.16-4.22.8-1.25 1.9-2.2 3.3-2.88 1.42-.7 3.02-1.06 4.8-1.06a11.54 11.54 0 0 1 4.14.72l7.63-.76-.34 2.68-4.46-.1a7.08 7.08 0 0 1 1.73 2.46c.41.96.62 2.01.62 3.16a7.77 7.77 0 0 1-4.27 7.06 10.4 10.4 0 0 1-4.7 1.1c-1.38.1-2.4.32-3.03.68-.6.32-.91.72-.91 1.2 0 .44.2.81.62 1.1.42.26 1.14.48 2.16.67l4.95.91c2.46.45 4.28 1.19 5.47 2.21a5.13 5.13 0 0 1 1.77 4.08Zm-11.37-13.3c1.85 0 3.3-.52 4.37-1.58a5.5 5.5 0 0 0 1.63-4.13c0-1.7-.55-3.05-1.63-4.08-1.06-1.05-2.52-1.58-4.37-1.58a6.1 6.1 0 0 0-4.37 1.58 5.34 5.34 0 0 0-1.63 4.08c0 1.7.54 3.08 1.63 4.13a6.1 6.1 0 0 0 4.37 1.59Zm-7.4 13.88c0 1.3.63 2.33 1.88 3.07 1.25.74 3.02 1.1 5.33 1.1 2.5 0 4.5-.43 6-1.3 1.5-.86 2.25-1.96 2.25-3.3 0-.93-.38-1.73-1.15-2.4a6.45 6.45 0 0 0-3.31-1.35l-4.23-.72c-2.04.32-3.7.91-4.94 1.78-1.22.9-1.82 1.93-1.82 3.12Z"
      fill="var(--typeface-preview-fill)"
    />
  </svg>
);

const LoraPreview = (): React.ReactElement => (
  <svg
    className={clsx(typefaceStyles.x, typefaceStyles.svg)}
    fill="none"
    viewBox="0 0 58 48"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M.18 34.56v-1.59c.96 0 1.7-.25 2.2-.76a5.6 5.6 0 0 0 1.25-2.12l1.2-3.11L14.73.05h1.14l10.7 27.3c.26.68.55 1.54.87 2.6.32 1.06.45 1.95.38 2.69l1.64-.1 1.63-.1v2.12h-11v-1.59c1.22-.03 2.02-.3 2.4-.81.4-.51.53-1.12.44-1.82-.1-.7-.26-1.35-.48-1.93l-1.68-4.5-12.48.28-1.68 5.14c-.23.77-.43 1.37-.63 1.82-.16.45-.35.95-.57 1.49a714.73 714.73 0 0 0 3.74-.2v2.12H.18ZM9 22.13H20.1l-3.41-9.17c-.35-1-.72-1.97-1.1-2.93l-1.06-2.97h-.1c-.32.9-.65 1.79-1 2.68l-1.01 2.74L9 22.13ZM44.2 47.57c-2.89 0-5.2-.32-6.97-.96a8.57 8.57 0 0 1-3.84-2.45c-.8-1-1.2-2.02-1.2-3.07 0-1 .23-1.88.67-2.64a8.25 8.25 0 0 1 3.75-3.12 6.65 6.65 0 0 1-2.45-1.4c-.58-.6-.86-1.4-.86-2.4a4.5 4.5 0 0 1 1.34-3.12c.9-.99 2.05-1.6 3.46-1.82a9.13 9.13 0 0 1-3.56-2.93 7.48 7.48 0 0 1-1.3-4.36c0-1.93.5-3.59 1.5-5a9.94 9.94 0 0 1 3.79-3.3 10.55 10.55 0 0 1 8.01-.73c1.06.29 2.04.72 2.93 1.3.32-.9.77-1.7 1.35-2.4.6-.7 1.3-1.25 2.06-1.63a4.97 4.97 0 0 1 2.4-.63c.83 0 1.46.22 1.87.67a2.24 2.24 0 0 1 .48 2.55 1.91 1.91 0 0 1-1.87 1.15c-.54 0-1-.16-1.34-.48a2.15 2.15 0 0 1-.68-1.2c-.8.13-1.42.51-1.87 1.15-.45.6-.75 1.28-.91 2.02.77.7 1.38 1.55 1.82 2.54.48 1 .72 2.05.72 3.17 0 1.8-.48 3.4-1.44 4.8a9.72 9.72 0 0 1-3.7 3.31 11 11 0 0 1-4.98 1.15c-.61 0-1.14-.03-1.59-.1-.45-.09-1-.14-1.63-.14-1.18 0-2.14.3-2.88.87-.74.57-1 1.26-.77 2.06.26.77 1.04 1.27 2.35 1.49 1.32.2 3.08.34 5.28.43 2.47.1 4.58.38 6.34.87a8.4 8.4 0 0 1 4.03 2.2 5.8 5.8 0 0 1 1.44 4.13c0 1.28-.35 2.42-1.05 3.4a8.06 8.06 0 0 1-2.74 2.55 13.85 13.85 0 0 1-3.8 1.54c-1.37.35-2.76.53-4.17.53Zm-.06-1.88c2.76 0 4.9-.5 6.44-1.53 1.53-1.02 2.3-2.22 2.3-3.6 0-1.19-.4-2.1-1.2-2.74a7.66 7.66 0 0 0-3.26-1.3 33.6 33.6 0 0 0-4.76-.38 64.13 64.13 0 0 1-4.94-.38 6.33 6.33 0 0 0-2.02 2.11 5.2 5.2 0 0 0-.72 2.64c0 1.57.74 2.82 2.21 3.75 1.5.96 3.49 1.44 5.95 1.44Zm-.62-19.67a4.75 4.75 0 0 0 4.7-3.22c.42-1 .63-2.11.63-3.36 0-1.4-.21-2.72-.63-3.94a6.71 6.71 0 0 0-1.87-2.93 4.36 4.36 0 0 0-3.07-1.1 4.7 4.7 0 0 0-4.03 1.97 7.96 7.96 0 0 0-1.4 4.8c0 1.54.23 2.9.68 4.08a6.41 6.41 0 0 0 1.92 2.73c.86.64 1.89.96 3.07.96Z"
      fill="var(--typeface-preview-fill)"
    />
  </svg>
);

const ErodePreview = (): React.ReactElement => (
  <svg
    className={clsx(typefaceStyles.x, typefaceStyles.svg)}
    fill="none"
    viewBox="0 0 50 40"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M7.92 29.34H.33v-1.3c.7-.22 1.25-.43 1.63-.63.42-.22.76-.54 1.01-.96.26-.44.53-1.05.82-1.82L12.8.34h2.98l8.97 24.68c.26.67.5 1.2.72 1.58.23.38.52.69.87.91.35.2.83.37 1.44.53v1.3h-8.4v-1.3c1.02-.16 1.7-.45 2.01-.86.32-.42.3-1.06-.04-1.93L13.29 2.9h.53L5.8 25.16c-.38 1.02-.38 1.71 0 2.06.39.36 1.1.63 2.12.82v1.3Zm13.1-9.7H7.48v-1.97h13.54v1.97ZM43.33 14.6c0-1.57-.43-2.87-1.3-3.89a4.24 4.24 0 0 0-3.4-1.53c-.9 0-1.7.22-2.4.67a4.63 4.63 0 0 0-1.59 1.82 6.15 6.15 0 0 0-.52 2.6c0 1.63.43 2.97 1.3 4.03a4.49 4.49 0 0 0 3.54 1.53c.87 0 1.62-.2 2.26-.62a4.79 4.79 0 0 0 1.54-1.83c.38-.8.57-1.72.57-2.78Zm-7.4 6a6.95 6.95 0 0 0-1.53 1.54c-.32.5-.48 1.1-.48 1.77 0 .67.28 1.18.82 1.54.54.32 1.26.54 2.16.67.9.1 1.87.16 2.93.2 1.09.02 2.16.1 3.21.23 1.1.1 2.08.3 2.98.63.9.32 1.62.81 2.16 1.48.54.64.82 1.55.82 2.74 0 1.38-.45 2.66-1.35 3.84a9.36 9.36 0 0 1-3.8 2.93 13.7 13.7 0 0 1-5.75 1.1c-1.6 0-3.06-.2-4.37-.62-1.28-.39-2.3-1-3.07-1.83a4.54 4.54 0 0 1-1.1-3.12c0-.96.25-1.82.76-2.59A9.89 9.89 0 0 1 32.4 29c.83-.67 1.7-1.3 2.64-1.87l.53.33c-.87.7-1.62 1.46-2.26 2.26-.6.8-.91 1.76-.91 2.88 0 1.34.53 2.46 1.58 3.36 1.09.9 2.7 1.34 4.85 1.34 1.25 0 2.42-.17 3.5-.52a5.84 5.84 0 0 0 2.64-1.54 3.5 3.5 0 0 0 1.01-2.6c0-1.11-.35-1.91-1.05-2.4a5.68 5.68 0 0 0-2.7-.9c-1.08-.13-2.25-.21-3.5-.25a40.46 40.46 0 0 1-3.55-.23 5.98 5.98 0 0 1-2.69-1.01c-.67-.52-1-1.33-1-2.45 0-1.25.38-2.27 1.15-3.07.8-.8 1.73-1.54 2.78-2.21l.53.48Zm2.89.91c-2.3 0-4.2-.6-5.71-1.82a6.03 6.03 0 0 1-2.16-4.95c0-1.44.33-2.7 1-3.79a7.34 7.34 0 0 1 2.79-2.54 8.18 8.18 0 0 1 3.8-.91c1.5 0 2.86.27 4.07.81a6.9 6.9 0 0 1 2.88 2.3 5.8 5.8 0 0 1 1.1 3.56c0 1.47-.35 2.76-1.05 3.88a7.25 7.25 0 0 1-2.83 2.55 8.2 8.2 0 0 1-3.9.91ZM49.67 6.82v3.31H49l-4.85-.23-.34-.44a32.63 32.63 0 0 1 3.89-2.01c.7-.3 1.36-.5 1.97-.63Z"
      fill="var(--typeface-preview-fill)"
    />
  </svg>
);

const ReciaPreview = (): React.ReactElement => (
  <svg
    className={clsx(typefaceStyles.x, typefaceStyles.svg)}
    fill="none"
    viewBox="0 0 60 48"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M.36 35.83c0-.32.08-.64.24-.96l2.88-.43L16.1.74l3.32-.43 12.9 34.13 2.94.43a4.44 4.44 0 0 1 .19.96c0 .2-.08.5-.24.91H23.88a2.04 2.04 0 0 1-.24-.9c0-.33.08-.65.24-.97l3.84-.43-3.46-10.03H10.01L6.55 34.44l4.37.43a4.44 4.44 0 0 1 .2.96c0 .26-.09.56-.25.91H.6a2.27 2.27 0 0 1-.24-.9ZM16.87 4.92l-6 17.04H23.3L16.87 4.92ZM37.22 41.5c0-1.13.3-2.13.87-3.03a7.75 7.75 0 0 1 2.64-2.25 1.6 1.6 0 0 1-.48-.73c-.1-.28-.15-.59-.15-.9 0-.68.16-1.56.48-2.65.36-1.09.98-2.38 1.88-3.89a8.94 8.94 0 0 1-2.74-2.97 9.43 9.43 0 0 1-.96-4.51c0-1.9.4-3.54 1.2-4.95.8-1.4 1.89-2.5 3.26-3.26a9.35 9.35 0 0 1 7.01-.87c.74.2 1.41.5 2.02.92l6.81-1.59a2.6 2.6 0 0 1 .58 1.68c0 .55-.1 1.06-.29 1.54l-5.28-.24c.9.93 1.59 1.92 2.07 2.97.48 1.06.72 2.3.72 3.75 0 1.89-.44 3.5-1.3 4.85a8.64 8.64 0 0 1-3.36 3.07 9.76 9.76 0 0 1-4.51 1.05c-.64 0-1.27-.03-1.87-.1-.61-.09-1.17-.25-1.68-.47-.32.77-.6 1.61-.82 2.54-.22.9-.34 1.67-.34 2.3h8.64c2.24 0 4.04.5 5.38 1.5a4.95 4.95 0 0 1 2.06 4.27c0 2.33-1.08 4.2-3.26 5.61-2.18 1.44-5.14 2.16-8.88 2.16-3.07 0-5.46-.54-7.15-1.63-1.7-1.05-2.55-2.45-2.55-4.18Zm3.32-.63c0 1.25.54 2.23 1.63 2.93 1.12.7 2.83 1.05 5.13 1.05 2.6 0 4.61-.48 6.05-1.44 1.44-.92 2.16-2.07 2.16-3.45 0-1.06-.35-1.84-1.05-2.35-.68-.52-1.7-.77-3.08-.77h-8.2c-1 .6-1.68 1.25-2.07 1.92a4.2 4.2 0 0 0-.57 2.11Zm1.87-20.2c0 2.2.46 3.86 1.4 4.98a4.98 4.98 0 0 0 3.93 1.64c1.72 0 3.07-.58 4.03-1.73.96-1.15 1.44-2.8 1.44-4.95 0-1.66-.26-3.02-.77-4.07a5.14 5.14 0 0 0-7.2-2.4 4.9 4.9 0 0 0-2.02 2.2c-.54 1.03-.81 2.47-.81 4.32Z"
      fill="var(--typeface-preview-fill)"
    />
  </svg>
);

const MerriweatherPreview = (): React.ReactElement => (
  <svg
    className={clsx(typefaceStyles.x, typefaceStyles.svg)}
    fill="none"
    viewBox="0 0 64 50"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M15.29.35h5.28l11.66 33.12 2.98.48v2.35H22.53v-2.35l3.99-.48-2.26-7.1H10.25l-2.26 7.1 4.13.48v2.35H.74v-2.35l2.98-.48L15.29.35Zm3.02 7.68-1.2-4.22-1.15 4.32-4.85 15.4h12.24l-5.04-15.5ZM48.23 49.26c-4.1 0-7.07-.65-8.92-1.96a6.15 6.15 0 0 1-2.74-5.33c0-1.41.43-2.7 1.3-3.9a9.02 9.02 0 0 1 3.16-2.68c-1.47-.83-2.2-2.17-2.2-4.03 0-1.15.33-2.24 1-3.27a6.68 6.68 0 0 1 2.64-2.35 8.29 8.29 0 0 1-3.7-3.02 8.5 8.5 0 0 1-1.24-4.66 7.9 7.9 0 0 1 1.54-4.84 10.22 10.22 0 0 1 4.12-3.17c1.73-.74 3.56-1.1 5.48-1.1 3.23 0 5.76.66 7.58 2a7.52 7.52 0 0 1 2.2-1.38 7.6 7.6 0 0 1 3.18-.68h1.63v4.23h-5.28a7.42 7.42 0 0 1 1.15 4.13 9.02 9.02 0 0 1-5.38 8.4c-1.66.8-3.55 1.2-5.66 1.2-1.38 0-2.6-.15-3.7-.44a6.2 6.2 0 0 0-1.1 1.5 3.38 3.38 0 0 0-.43 1.58c0 1.15.38 1.95 1.15 2.4.77.41 2.14.62 4.13.62h5.42c3.1 0 5.4.6 6.91 1.78 1.5 1.18 2.26 2.86 2.26 5.04 0 1.82-.66 3.48-1.97 4.99a12.98 12.98 0 0 1-5.33 3.6c-2.2.9-4.6 1.34-7.2 1.34Zm.34-25.05c3.65 0 5.47-2.16 5.47-6.48 0-2.15-.48-3.71-1.44-4.7-.93-1.03-2.33-1.54-4.22-1.54-1.76 0-3.15.5-4.18 1.48-1.02.96-1.53 2.52-1.53 4.66 0 2.02.48 3.62 1.44 4.8.99 1.18 2.48 1.78 4.46 1.78Zm.1 22.27c1.56 0 3.04-.24 4.41-.72a7.76 7.76 0 0 0 3.4-2.06c.87-.9 1.3-1.96 1.3-3.17 0-1.44-.38-2.5-1.15-3.17-.76-.64-2.25-.96-4.46-.96H46.5c-1.28 0-2.3-.08-3.03-.24A7.02 7.02 0 0 0 41.51 41c0 1.79.55 3.15 1.64 4.08 1.08.92 2.92 1.39 5.52 1.39Z"
      fill="var(--typeface-preview-fill)"
    />
  </svg>
);

const TypefaceItem = ({
  isActive,
  label,
  value,
  decorator
}: {
  decorator: React.ReactNode;
  isActive: boolean;
  label: React.ReactNode;
  value: string;
}): React.ReactElement => (
  <div
    className={clsx(
      "flex-col",
      common_styles.x,
      common_styles.item,
      isActive && common_styles.selected,
      typefaceStyles.x,
      typefaceStyles.item,
      isActive && typefaceStyles.selected
    )}
  >
    <AspectRatio className={"full-w"} ratio={2.3}>
      <div
        className={clsx(
          "flex-center",
          "full-w",
          typefaceStyles.x,
          typefaceStyles.decorator
        )}
      >
        {decorator}
      </div>
    </AspectRatio>
    <Divider />
    <Radio
      className={clsx(common_styles.x, common_styles.radio)}
      label={label}
      slot_props={{
        container: {
          className: clsx(common_styles.x, common_styles["radio-container"])
        }
      }}
      value={value}
    />
  </div>
);

const ReadingFontTypefacePreference = (): React.ReactElement => {
  const is_smaller_than_mobile = use_media_query(BREAKPOINTS.down("mobile"));
  const dispatch = use_app_dispatch();
  const typeface = use_app_selector((state) => state.preferences.reading_font);

  return (
    <React.Fragment>
      <Typography as={"h3"} level={"h6"}>
        Typeface
      </Typography>
      <Spacer orientation={"vertical"} />
      <Typography className={"t-minor"} level={"body2"}>
        Choose a typeface that you find comfortable to read.
      </Typography>
      <Spacer orientation={"vertical"} size={3} />
      <RadioGroup
        className={clsx(
          common_styles.x,
          common_styles["radio-group"],
          common_styles.wrap,
          typefaceStyles.x,
          typefaceStyles["radio-group"]
        )}
        onValueChange={(newValue): void => {
          dispatch(set_reading_font(newValue as typeof typeface));
        }}
        orientation={is_smaller_than_mobile ? "vertical" : "horizontal"}
        value={typeface}
      >
        <TypefaceItem
          decorator={<SatoshiPreview />}
          isActive={typeface === "satoshi"}
          label={"Satoshi"}
          value={"satoshi"}
        />
        <TypefaceItem
          decorator={<SystemPreview />}
          isActive={typeface === "system"}
          label={"System"}
          value={"system"}
        />
        <TypefaceItem
          decorator={<NunitoPreview />}
          isActive={typeface === "nunito"}
          label={"Nunito"}
          value={"nunito"}
        />
        <TypefaceItem
          decorator={<SynonymPreview />}
          isActive={typeface === "synonym"}
          label={"Synonym"}
          value={"synonym"}
        />
        <TypefaceItem
          decorator={<LoraPreview />}
          isActive={typeface === "lora"}
          label={"Lora"}
          value={"lora"}
        />
        <TypefaceItem
          decorator={<ErodePreview />}
          isActive={typeface === "erode"}
          label={"Erode"}
          value={"erode"}
        />
        <TypefaceItem
          decorator={<ReciaPreview />}
          isActive={typeface === "recia"}
          label={"Recia"}
          value={"recia"}
        />
        <TypefaceItem
          decorator={<MerriweatherPreview />}
          isActive={typeface === "merriweather"}
          label={"Merriweather"}
          value={"merriweather"}
        />
      </RadioGroup>
    </React.Fragment>
  );
};

export default ReadingFontTypefacePreference;
